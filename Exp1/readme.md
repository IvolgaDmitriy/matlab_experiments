# Simulink Model generation using MATLAB Commands and Functions  
The main task of this example is to create and fill in a .slx file using the MATLAB script. MATLAB has an extensive API (Application Program Interface) for building and modifying Simulink models from MATLAB code. This may be from either the MATLAB command line, from within a function or script, or from anywhere that m-code can be executed.  
  
The primary functions for this:  
+ `add_block`  
+ `add_line`  
+ `set_param` 
+ `get_param` 
  
Required version of MATLAB 2021b and higher      
  
## Sine Wave Model  
To run the example use `just_sin_wave.m`. The script checks for the existence of the `test_system.slx` file. The file is then recreated. Each script startup overwrites the Simulink model `test_system.slx`. The script will add new blocks to the scheme space:  
  
![Creating blocks](pic/1.png)  
  
After that, the script adds links between the blocks:  
  
![Adding lines](pic/2.png)  
  
Block parameters are changed and simulation is started. To close the model, you must press the Enter key in the Matlab console. The result of the script:  
  
![Creating blocks](pic/3.png)   
  
## 2 Bar Mechanism  
To run the example use `two_bar_mech.m`.  
  
```MATLAB

get_param([fname, '/Link2'], 'ObjectParameters')

ans = 

  struct with fields:

                                        Name: [1×1 struct]
                                         Tag: [1×1 struct]
                                 Description: [1×1 struct]
                                        Type: [1×1 struct]
                                      Parent: [1×1 struct]
                                      Handle: [1×1 struct]
                             HiliteAncestors: [1×1 struct]
                             RequirementInfo: [1×1 struct]
                                       Ports: [1×1 struct]
                                    Position: [1×1 struct]
                                 Orientation: [1×1 struct]
                            PortRotationType: [1×1 struct]
                             ForegroundColor: [1×1 struct]
                             BackgroundColor: [1×1 struct]
                                  DropShadow: [1×1 struct]
                                      IOType: [1×1 struct]
                               NamePlacement: [1×1 struct]
                                NameLocation: [1×1 struct]
                                    ShowName: [1×1 struct]
                           HideAutomaticName: [1×1 struct]
                                    Priority: [1×1 struct]
                                   Commented: [1×1 struct]
                       CodeProfilingOverride: [1×1 struct]
                      AttributesFormatString: [1×1 struct]
                           InstantiateOnLoad: [1×1 struct]
                         PolySpaceEndComment: [1×1 struct]
                       PolySpaceStartComment: [1×1 struct]
                               AncestorBlock: [1×1 struct]
                              ReferenceBlock: [1×1 struct]
                           SourceLibraryInfo: [1×1 struct]
                              LibraryVersion: [1×1 struct]
                          UserDataPersistent: [1×1 struct]
                                    UserData: [1×1 struct]
                            CompiledIsActive: [1×1 struct]
                         CompiledVariantInfo: [1×1 struct]
                                     RTWdata: [1×1 struct]
                                     HDLData: [1×1 struct]
                                 Diagnostics: [1×1 struct]
                            DialogParameters: [1×1 struct]
                   IntrinsicDialogParameters: [1×1 struct]
                         AlgorithmParameters: [1×1 struct]
                SecondaryAlgorithmParameters: [1×1 struct]
                          CompiledSampleTime: [1×1 struct]
                            InputSignalNames: [1×1 struct]
                           OutputSignalNames: [1×1 struct]
                         ModelParamTableInfo: [1×1 struct]
                StatePerturbationForJacobian: [1×1 struct]
    SCDEnableBlockLinearizationSpecification: [1×1 struct]
          SCDBlockLinearizationSpecification: [1×1 struct]
                                     CopyFcn: [1×1 struct]
                                   DeleteFcn: [1×1 struct]
                               UndoDeleteFcn: [1×1 struct]
                                     LoadFcn: [1×1 struct]
                               ModelCloseFcn: [1×1 struct]
                                  PreSaveFcn: [1×1 struct]
                                 PostSaveFcn: [1×1 struct]
                                     InitFcn: [1×1 struct]
                                 PreStartFcn: [1×1 struct]
                                    StartFcn: [1×1 struct]
                                    PauseFcn: [1×1 struct]
                                 ContinueFcn: [1×1 struct]
                                     StopFcn: [1×1 struct]
                               NameChangeFcn: [1×1 struct]
                                ClipboardFcn: [1×1 struct]
                                  DestroyFcn: [1×1 struct]
                                  PreCopyFcn: [1×1 struct]
                                     OpenFcn: [1×1 struct]
                                    CloseFcn: [1×1 struct]
                                PreDeleteFcn: [1×1 struct]
                              ParentCloseFcn: [1×1 struct]
                                     MoveFcn: [1×1 struct]
                                   BlockType: [1×1 struct]
                            BlockDescription: [1×1 struct]
                               BlockKeywords: [1×1 struct]
                                  LinkStatus: [1×1 struct]
                            StaticLinkStatus: [1×1 struct]
                            PortConnectivity: [1×1 struct]
                                 PortHandles: [1×1 struct]
                                 LineHandles: [1×1 struct]
                          CompiledPortWidths: [1×1 struct]
                      CompiledPortDimensions: [1×1 struct]
                       CompiledPortDataTypes: [1×1 struct]
                           CompiledPortUnits: [1×1 struct]
                  CompiledPortComplexSignals: [1×1 struct]
                       CompiledPortFrameData: [1×1 struct]
                   DataTypeOverride_Compiled: [1×1 struct]
              MinMaxOverflowLogging_Compiled: [1×1 struct]
                                Capabilities: [1×1 struct]
                             IOSignalStrings: [1×1 struct]
                               RuntimeObject: [1×1 struct]
                         ExtModeUploadOption: [1×1 struct]
                     ExtModeLoggingSupported: [1×1 struct]
                          ExtModeLoggingTrig: [1×1 struct]
                   TargetArchitectureMapping: [1×1 struct]
                                    FontName: [1×1 struct]
                                    FontSize: [1×1 struct]
                                  FontWeight: [1×1 struct]
                                   FontAngle: [1×1 struct]
                                    Selected: [1×1 struct]
                                    MaskType: [1×1 struct]
                             MaskDescription: [1×1 struct]
                                    MaskHelp: [1×1 struct]
                            MaskPromptString: [1×1 struct]
                             MaskStyleString: [1×1 struct]
                               MaskVariables: [1×1 struct]
                      MaskTunableValueString: [1×1 struct]
                          MaskCallbackString: [1×1 struct]
                            MaskEnableString: [1×1 struct]
                        MaskVisibilityString: [1×1 struct]
                           MaskToolTipString: [1×1 struct]
                          MaskVarAliasString: [1×1 struct]
                          MaskInitialization: [1×1 struct]
                          MaskSelfModifiable: [1×1 struct]
                                 MaskDisplay: [1×1 struct]
                            MaskBlockDVGIcon: [1×1 struct]
                               MaskIconFrame: [1×1 struct]
                              MaskIconOpaque: [1×1 struct]
                              MaskIconRotate: [1×1 struct]
                              MaskPortRotate: [1×1 struct]
                               MaskIconUnits: [1×1 struct]
                             MaskValueString: [1×1 struct]
                    MaskRunInitForIconRedraw: [1×1 struct]
                           MaskTabNameString: [1×1 struct]
                                        Mask: [1×1 struct]
                               MaskCallbacks: [1×1 struct]
                                 MaskEnables: [1×1 struct]
                                   MaskNames: [1×1 struct]
                      MaskPropertyNameString: [1×1 struct]
                                 MaskPrompts: [1×1 struct]
                                  MaskStyles: [1×1 struct]
                           MaskTunableValues: [1×1 struct]
                                  MaskValues: [1×1 struct]
                         MaskToolTipsDisplay: [1×1 struct]
                            MaskVisibilities: [1×1 struct]
                              MaskVarAliases: [1×1 struct]
                             MaskWSVariables: [1×1 struct]
                                MaskTabNames: [1×1 struct]
                                  MaskObject: [1×1 struct]
                         GraphicAmbientColor: [1×1 struct]
                    GraphicAmbientColor_conf: [1×1 struct]
                                 BasedOnType: [1×1 struct]
                                CenterOfMass: [1×1 struct]
                           CenterOfMassUnits: [1×1 struct]
                           CenterOfMass_conf: [1×1 struct]
                                   ClassName: [1×1 struct]
                         GraphicDiffuseColor: [1×1 struct]
                    GraphicDiffuseColor_conf: [1×1 struct]
                              CylinderLength: [1×1 struct]
                         CylinderLengthUnits: [1×1 struct]
                         CylinderLength_conf: [1×1 struct]
                              CylinderRadius: [1×1 struct]
                         CylinderRadiusUnits: [1×1 struct]
                         CylinderRadius_conf: [1×1 struct]
                                     Density: [1×1 struct]
                                DensityUnits: [1×1 struct]
                                Density_conf: [1×1 struct]
                      DoExposeReferenceFrame: [1×1 struct]
                        GraphicEmissiveColor: [1×1 struct]
                   GraphicEmissiveColor_conf: [1×1 struct]
                        ExportEntireGeometry: [1×1 struct]
                            SerializedFrames: [1×1 struct]
                                 MarkerShape: [1×1 struct]
                                  MarkerSize: [1×1 struct]
                             MarkerSize_conf: [1×1 struct]
                                 GraphicType: [1×1 struct]
                                 InertiaType: [1×1 struct]
                                        Mass: [1×1 struct]
                                   MassUnits: [1×1 struct]
                                   Mass_conf: [1×1 struct]
                            MomentsOfInertia: [1×1 struct]
                       MomentsOfInertiaUnits: [1×1 struct]
                       MomentsOfInertia_conf: [1×1 struct]
                              GraphicOpacity: [1×1 struct]
                         GraphicOpacity_conf: [1×1 struct]
                           ProductsOfInertia: [1×1 struct]
                      ProductsOfInertiaUnits: [1×1 struct]
                      ProductsOfInertia_conf: [1×1 struct]
                            GraphicShininess: [1×1 struct]
                       GraphicShininess_conf: [1×1 struct]
                        GraphicSpecularColor: [1×1 struct]
                   GraphicSpecularColor_conf: [1×1 struct]
                          GraphicVisPropType: [1×1 struct]
                               BlockFunction: [1×1 struct]
 ```

  
